{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "type": "rectangle",
      "version": 59,
      "versionNonce": 1012001450,
      "isDeleted": false,
      "id": "sRR_uk6GRJsoTYCImJEYU",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 960,
      "y": -1020,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 300,
      "height": 140,
      "seed": 822354014,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "XU2irv7ZGh9AzG4z3Srhm",
        "vyQc2KesEY0tsdQD-Sv3X"
      ]
    },
    {
      "type": "text",
      "version": 85,
      "versionNonce": 1511451894,
      "isDeleted": false,
      "id": "LizjM-Qi6yliQrLBPzhm-",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1000,
      "y": -960,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 226,
      "height": 46,
      "seed": 2087510750,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Svc istio-ingressgateway \n(type Loadbalancer)",
      "baseline": 41,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 944,
      "versionNonce": 684918122,
      "isDeleted": false,
      "id": "u5iUecO8E7yeISDbEIbch",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 980,
      "y": -840,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 529,
      "height": 483,
      "seed": 1576643678,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Not configured by istio. LB ports \nneed to be open to allow traffic to \nflow to envoy proxy. \nIstio-ingressgateway envoy pod has \ncorresponding ports open and\nvia XDS from istio controlplane applies\ntraffic rules. \n\nPorts:\n - 15021 TCP\n    - status-port\n - 8443 TCP\n    - incoming traffic apiserver-proxy \n    - PROXY protocol\n- 443, targetPort: 9443, TCP\n    - for regular TLS ingress on 443 e.g via Shoot kubeconfig\n    - forwarded to 9443 on the istio-ingress envoy\n- 8132 TCP \n    - tls-tunnel\n    - HTTP Connect via proxy\n ",
      "baseline": 478,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 810,
      "versionNonce": 1171906102,
      "isDeleted": false,
      "id": "XU2irv7ZGh9AzG4z3Srhm",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1261,
      "y": -960,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 399,
      "height": 0,
      "seed": 1408760642,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "sRR_uk6GRJsoTYCImJEYU",
        "gap": 1,
        "focus": -0.14285714285714285
      },
      "endBinding": {
        "elementId": "r1Nm7u1fp1MbAYl2Y1YbB",
        "gap": 20,
        "focus": 0.25
      },
      "points": [
        [
          0,
          0
        ],
        [
          399,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 48,
      "versionNonce": 65194026,
      "isDeleted": false,
      "id": "8bgOkquZHwnWcLTKp8j_k",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1372.4482641541367,
      "y": -951.4907620097076,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 237,
      "height": 69,
      "seed": 1610102594,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "selects\n  app: istio-ingressgateway\n  istio: ingressgateway",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 246,
      "versionNonce": 698663798,
      "isDeleted": false,
      "id": "r1Nm7u1fp1MbAYl2Y1YbB",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1680,
      "y": -1020,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 2420,
      "height": 160,
      "seed": 1244949698,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "FjGFTQcI2p41KSKPmdhuD",
        "EuxbCJzcCWay6CRGT-7sq",
        "7tnB4KluPAoN7cTixHn3F",
        "XU2irv7ZGh9AzG4z3Srhm",
        "JsIcSZPNtRikrrqj70CUt",
        "6ewWEc_NhIqT0uI7MeItx",
        "C6gCPTDVUvLwrygOYJwDR"
      ]
    },
    {
      "type": "text",
      "version": 103,
      "versionNonce": 1433154282,
      "isDeleted": false,
      "id": "DQWDNvcWEnSnJXjjw8Mux",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1749.1149308208032,
      "y": -957.0463175652632,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 69,
      "seed": 660298590,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Envoy Proxy  \n(istio-ingressgateway) \n",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 175,
      "versionNonce": 752109750,
      "isDeleted": false,
      "id": "vVLZb_hs0qZehAwgHKqlP",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1760,
      "y": -380,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 120,
      "seed": 490602014,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "wzcbzFvhyXkQXhiBy9awD",
        "h4IA_ipLFVLleBYfopDHA"
      ]
    },
    {
      "type": "text",
      "version": 145,
      "versionNonce": 1878672810,
      "isDeleted": false,
      "id": "nMrcyWl7-HF9fbevztFcA",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1800,
      "y": -340,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 127,
      "height": 46,
      "seed": 251634270,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Gateway \nproxy-protocol",
      "baseline": 41,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "type": "arrow",
      "version": 1654,
      "versionNonce": 1206736554,
      "isDeleted": false,
      "id": "FjGFTQcI2p41KSKPmdhuD",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1860,
      "y": -500,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 0,
      "height": 340,
      "seed": 806534082,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": null,
      "endBinding": {
        "elementId": "r1Nm7u1fp1MbAYl2Y1YbB",
        "focus": 0.8512396694214877,
        "gap": 20
      },
      "points": [
        [
          0,
          0
        ],
        [
          0,
          -340
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "rectangle",
      "version": 218,
      "versionNonce": 481820778,
      "isDeleted": false,
      "id": "hK2-QOtxYIyI3rmVrUnb4",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1380,
      "y": -380,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 240,
      "height": 120,
      "seed": 2124693982,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "FjGFTQcI2p41KSKPmdhuD",
        "wzcbzFvhyXkQXhiBy9awD"
      ]
    },
    {
      "type": "text",
      "version": 172,
      "versionNonce": 722866998,
      "isDeleted": false,
      "id": "7NZO1oKtwy7S1JL_yX2gZ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1400,
      "y": -320,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 218,
      "height": 46,
      "seed": 1898567966,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "wzcbzFvhyXkQXhiBy9awD"
      ],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "VirtualService\nproxy-protocol-blackhole",
      "baseline": 41,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 272,
      "versionNonce": 1198547754,
      "isDeleted": false,
      "id": "MI5GjddRU_eb2d5uaZloY",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1380,
      "y": -220,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 242,
      "height": 115,
      "seed": 1339547934,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Dummy service to add the \nenvoy listener for port 8443\n\n\n",
      "baseline": 110,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 1145,
      "versionNonce": 1889156214,
      "isDeleted": false,
      "id": "wzcbzFvhyXkQXhiBy9awD",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1620,
      "y": -320,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 140,
      "height": 0,
      "seed": 904297154,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "7NZO1oKtwy7S1JL_yX2gZ",
        "focus": -1,
        "gap": 2
      },
      "endBinding": {
        "elementId": "vVLZb_hs0qZehAwgHKqlP",
        "focus": 0,
        "gap": 1
      },
      "points": [
        [
          0,
          0
        ],
        [
          140,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 258,
      "versionNonce": 713977322,
      "isDeleted": false,
      "id": "fvWrc3PUZ4uzk8vl7QGWd",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1960,
      "y": -980,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 323,
      "height": 69,
      "seed": 1065164546,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "image: docker.io/istio/proxyv2:1.8.0\nname: istio-proxy\nTCP ports: 15021, 8443, 9443, 8132",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 198,
      "versionNonce": 1581727158,
      "isDeleted": false,
      "id": "zm26slSWqveyCwZjuqo2O",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1640,
      "y": -1480,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 180,
      "height": 140,
      "seed": 266286786,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "EuxbCJzcCWay6CRGT-7sq",
        "_n-fX3onwzI2YQeruIL4S",
        "r4XKJfudM-ZN4e6IM2w20"
      ]
    },
    {
      "type": "text",
      "version": 189,
      "versionNonce": 2065506474,
      "isDeleted": false,
      "id": "-K9SCP4xWm22wJuriYR7_",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1693.5,
      "y": -1431.5,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 52,
      "height": 46,
      "seed": 1232966814,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Istiod\n(Pilot)",
      "baseline": 41,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "type": "arrow",
      "version": 2392,
      "versionNonce": 692197110,
      "isDeleted": false,
      "id": "EuxbCJzcCWay6CRGT-7sq",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1740,
      "y": -1040,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 7.16843072704296,
      "height": 299,
      "seed": 504265090,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "r1Nm7u1fp1MbAYl2Y1YbB",
        "focus": -0.9469308611757227,
        "gap": 20
      },
      "endBinding": {
        "elementId": "zm26slSWqveyCwZjuqo2O",
        "focus": -0.012318809867406782,
        "gap": 1
      },
      "points": [
        [
          0,
          0
        ],
        [
          -7.16843072704296,
          -299
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 113,
      "versionNonce": 348617578,
      "isDeleted": false,
      "id": "CgJt8oDQ9jyx1exoXtX6D",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1760,
      "y": -1200,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 212,
      "height": 46,
      "seed": 1558027422,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "get envoy configuration \nvia XDS",
      "baseline": 41,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 193,
      "versionNonce": 437241910,
      "isDeleted": false,
      "id": "kFBx22Z3uIeJkaLKvFovE",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1620,
      "y": -1720,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 220,
      "height": 160,
      "seed": 1754871682,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "rGKoob_1IczEJIBR3ko6h",
        "_n-fX3onwzI2YQeruIL4S"
      ]
    },
    {
      "type": "text",
      "version": 177,
      "versionNonce": 634945066,
      "isDeleted": false,
      "id": "etPQeL0DYIB_mJ1qIkegk",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1660,
      "y": -1660,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 145,
      "height": 23,
      "seed": 2083001730,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Seed API server",
      "baseline": 18,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "type": "arrow",
      "version": 1517,
      "versionNonce": 546656630,
      "isDeleted": false,
      "id": "rGKoob_1IczEJIBR3ko6h",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1720.009731252138,
      "y": -1820.0000000000002,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 0.0055775439886929234,
      "height": 99.00000000000023,
      "seed": 1916845726,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "jzMvSbrux7FLTT9YmSsax",
        "focus": 0.024390243902439025,
        "gap": 8
      },
      "endBinding": {
        "elementId": "kFBx22Z3uIeJkaLKvFovE",
        "focus": -0.09090909090909091,
        "gap": 1
      },
      "points": [
        [
          0,
          0
        ],
        [
          -0.0055775439886929234,
          99.00000000000023
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 218,
      "versionNonce": 1530603754,
      "isDeleted": false,
      "id": "2LZF-_aJmIzuayP8xR6UZ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1740,
      "y": -1800,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 185,
      "height": 46,
      "seed": 732864578,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Configure Envoy via \ncustom resources",
      "baseline": 41,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 1409,
      "versionNonce": 1746383542,
      "isDeleted": false,
      "id": "_n-fX3onwzI2YQeruIL4S",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1720.7077922072908,
      "y": -1481,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 4.558441558687491,
      "height": 78,
      "seed": 182899138,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "zm26slSWqveyCwZjuqo2O",
        "focus": -0.14285714285714285,
        "gap": 1
      },
      "endBinding": {
        "elementId": "kFBx22Z3uIeJkaLKvFovE",
        "focus": 0,
        "gap": 1
      },
      "points": [
        [
          0,
          0
        ],
        [
          4.558441558687491,
          -78
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "line",
      "version": 81,
      "versionNonce": 209353642,
      "isDeleted": false,
      "id": "P2oMpFt9KLphZYLJ4qIku",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 660,
      "y": -1280,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 0,
      "height": 960,
      "seed": 62769758,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": null,
      "endBinding": null,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          960
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "type": "rectangle",
      "version": 61,
      "versionNonce": 1799089142,
      "isDeleted": false,
      "id": "MDZ-M_xC1-u9LJzRJQppv",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -40,
      "y": -1020,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 120,
      "seed": 770559042,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "TxSe3TKTrmHLywRNcE3ql",
        "9H1ogSwZWuzGbu6m4NI1n",
        "hwlq0bQai4RjcwsHk0QhW"
      ]
    },
    {
      "type": "text",
      "version": 95,
      "versionNonce": 1740732010,
      "isDeleted": false,
      "id": "MdY6PvX0-n2pjD_iBQr1B",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -20,
      "y": -980,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 143,
      "height": 69,
      "seed": 1116264094,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "apiserver-proxy \n(host network, \ndaemon set)",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 144,
      "versionNonce": 134675766,
      "isDeleted": false,
      "id": "KS0LXnsl1moAgCGP_Fclx",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1560,
      "y": -1020,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 140,
      "seed": 1491121630,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "TxSe3TKTrmHLywRNcE3ql",
        "RIDp6eTASpU9aL9ygE1TD",
        "DY0OUuX3dUwdTSk8jVxU6",
        "pownjqVNmchcRN3tksBdr",
        "vyQc2KesEY0tsdQD-Sv3X"
      ]
    },
    {
      "type": "text",
      "version": 146,
      "versionNonce": 500898090,
      "isDeleted": false,
      "id": "wEnuho01obbKuNhPZU37L",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1540,
      "y": -960,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 181,
      "height": 23,
      "seed": 76543298,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Pods on Shoot node",
      "baseline": 18,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "type": "arrow",
      "version": 1588,
      "versionNonce": 333309558,
      "isDeleted": false,
      "id": "TxSe3TKTrmHLywRNcE3ql",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1340,
      "y": -960,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 478.5,
      "height": 0,
      "seed": 1677547038,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "KS0LXnsl1moAgCGP_Fclx",
        "focus": -0.14285714285714285,
        "gap": 20
      },
      "endBinding": {
        "elementId": "9NBcllGe9Ys4BjMlVIUKz",
        "focus": 0,
        "gap": 1.5
      },
      "points": [
        [
          0,
          0
        ],
        [
          478.5,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 1416,
      "versionNonce": 238183402,
      "isDeleted": false,
      "id": "W1RPn2eAo9T7Urp1hhotO",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -860,
      "y": -920,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 696,
      "height": 552,
      "seed": 63023518,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "ClusterIP: 10.223.0.1 (internal)\nEndpoint IP: \n - 10.243.36.239:443\n - ClusterIP of kube-apiserver svc in seed control plane\n - No SNI: public IP address of kube-apiserver LB in \n    seed control plane\n\nUsing one SNI LB for all Shoot cluster of a Seed \nneeds to overcome problems:\n\nProblem 1: Envoy proxy with SNI needs the Server name in \nthe TLS Handshake (will not be set by clients for Cluster IP).\n \nReason: default/kubernetes service must be of type ClusterIP\n(cannot use ExternalName with the proper DNS name)\n\nProblem 2: In-cluster DNS to Shoot API server \n(kubernetes.default.svc.cluster.local) is the same for\nclients in different clusters -> how can the envoy Ingressgateway  \nin the Seed know to which API server it should forward the traffic to?\n\n\nSolution: apiserver-proxy on every single Node.\nIt does not terminate TLS and sends the traffic to the correct Shoot API Server.",
      "baseline": 547,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 96,
      "versionNonce": 1871030198,
      "isDeleted": false,
      "id": "HMYBp-MSXxbp-YTPRk1UZ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -840,
      "y": -980,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 310,
      "height": 23,
      "seed": 160011202,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "kubernetes.default.svc.cluster.local",
      "baseline": 18,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 83,
      "versionNonce": 1926387370,
      "isDeleted": false,
      "id": "9NBcllGe9Ys4BjMlVIUKz",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -860,
      "y": -980,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 340,
      "height": 40,
      "seed": 1825686082,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "TxSe3TKTrmHLywRNcE3ql",
        "9H1ogSwZWuzGbu6m4NI1n"
      ]
    },
    {
      "type": "text",
      "version": 128,
      "versionNonce": 455295222,
      "isDeleted": false,
      "id": "bhBLwt72p6dAYp9n3LFm3",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1280,
      "y": -940,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 381,
      "height": 92,
      "seed": 177056962,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "TxSe3TKTrmHLywRNcE3ql"
      ],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Connect to Shoot API Server\nvia \n - IP: 10.243.36.239\n - DNS: kubernetes.default.svc.cluster.local",
      "baseline": 87,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 155,
      "versionNonce": 208007530,
      "isDeleted": false,
      "id": "9H1ogSwZWuzGbu6m4NI1n",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -520,
      "y": -960,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 460,
      "height": 0,
      "seed": 1511294658,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "9NBcllGe9Ys4BjMlVIUKz",
        "focus": 0,
        "gap": 1
      },
      "endBinding": {
        "elementId": "MDZ-M_xC1-u9LJzRJQppv",
        "focus": 0,
        "gap": 20
      },
      "points": [
        [
          0,
          0
        ],
        [
          460,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 862,
      "versionNonce": 1245426230,
      "isDeleted": false,
      "id": "ugBCgNhIleG1YlJiixhs-",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -40,
      "y": -860,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 685,
      "height": 322,
      "seed": 663890754,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Init container\n - creates a dummy network interface and assigns the ClusterIP\n   of the Shoot API server svc in the Seed control plane (10.243.36.239)\n - Image: eu.gcr.io/gardener-project/gardener/apiserver-proxy:v0.1.0\n\nEnvoy proxy\n- Listens on 10.243.36.239 and forwards traffic via the PROXY \n  protocol to the Envoy ingress gateway 8443 (<shoot-internal-domain>:8443)\n- Image: envoyproxy/envoy:v1.16.0\n\n\n \n   \n",
      "baseline": 317,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 179,
      "versionNonce": 1312306218,
      "isDeleted": false,
      "id": "-phenSCXeyzigokQhH1Qw",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2120,
      "y": -380,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 120,
      "seed": 1626964190,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "FjGFTQcI2p41KSKPmdhuD",
        "wzcbzFvhyXkQXhiBy9awD",
        "Jc9L2tz4YAQXj3P7Vwt-O"
      ]
    },
    {
      "type": "text",
      "version": 98,
      "versionNonce": 2008284022,
      "isDeleted": false,
      "id": "6XJyM6biQQ5bZKDB4V6hq",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2150,
      "y": -331.5,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 140,
      "height": 46,
      "seed": 950838750,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Envoy Filter\n(proxy-protocol)",
      "baseline": 41,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 222,
      "versionNonce": 171187946,
      "isDeleted": false,
      "id": "GKbdQ_KGfBbCSRirYnywV",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2140,
      "y": -200,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 429,
      "height": 529,
      "seed": 627206110,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "\n\n\nkind: EnvoyFilter\nmetadata:\n  name: proxy-protocol\n  namespace: istio-ingress\nspec:\n  workloadSelector:\n    labels:\n      istio: ingressgateway\n  configPatches:\n  - applyTo: LISTENER\n    match:\n      context: ANY\n      listener:\n        portNumber: 8443\n        name: 0.0.0.0_8443\n    patch:\n      operation: MERGE\n      value:\n        listener_filters:\n        - name: envoy.filters.listener.proxy_protocol",
      "baseline": 524,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 99,
      "versionNonce": 2043747510,
      "isDeleted": false,
      "id": "pc6pz4bY7F0-unz9nw7pN",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -300,
      "y": -2200,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 1040,
      "height": 599.9999999999999,
      "seed": 1132767774,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "text",
      "version": 61,
      "versionNonce": 484749738,
      "isDeleted": false,
      "id": "AHl0XNs4ryIn5q7UD2NCQ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -300,
      "y": -2200,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 896,
      "height": 594,
      "seed": 668413982,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "\n    listeners:\n      - name: kube_apiserver\n        address:\n          socket_address:\n            address: 10.243.36.239\n            port_value: 443\n    filter_chains:\n        - filters:\n          - name: envoy.filters.network.tcp_proxy\n            typed_config:\n              \"@type\": type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy\n              stat_prefix: kube_apiserver\n              cluster: kube_apiserver\n \n     clusters:\n      - name: kube_apiserver\n        lb_policy: ROUND_ROBIN\n        load_assignment:\n          cluster_name: kube_apiserver\n          endpoints:\n          - lb_endpoints:\n            - endpoint:\n                address:\n                  socket_address:\n                    address: api.dev-seed-gcp.d060239.internal.dev.k8s.ondemand.com.\n                    port_value: 8443\n        \n        transport_socket:\n          name: envoy.transport_sockets.upstream_proxy_protocol\n          typed_config:\n            \"@type\": type.googleapis.com/envoy.extensions.transport_sockets.proxy_protocol.v3.ProxyProtocolUpstreamTransport\n            ",
      "baseline": 590,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 48,
      "versionNonce": 372774390,
      "isDeleted": false,
      "id": "aCU8j7Tu-ZLj35JeZ0Nkx",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 80,
      "y": -1580,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 581,
      "height": 126,
      "seed": 1757766622,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "Envoy config of apiserver-proxy envoy\n\n - configure listener for IP of dummy network interface\n - send to Envoy \"Cluster\" kube-apiserver\n - \"Cluster\" kube-apiserver uses PROXY protocol to send to \n    DNS Domain:8443 of Shoot cluster which points to Envoy Istio Ingressgateway \n    in the Seed",
      "baseline": 122,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "line",
      "version": 72,
      "versionNonce": 427093098,
      "isDeleted": false,
      "id": "dCE-CExXn7hGY2kJ1ZC7Z",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 60.35073548778892,
      "y": -1019.2472689412534,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 0.35073548778891706,
      "height": 560.7527310587466,
      "seed": 2044145410,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": null,
      "endBinding": null,
      "points": [
        [
          0,
          0
        ],
        [
          -0.35073548778891706,
          -560.7527310587466
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "type": "arrow",
      "version": 60,
      "versionNonce": 367912758,
      "isDeleted": false,
      "id": "hwlq0bQai4RjcwsHk0QhW",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 160,
      "y": -960,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 800,
      "height": 0,
      "seed": 406864258,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "MDZ-M_xC1-u9LJzRJQppv",
        "focus": 0,
        "gap": 1
      },
      "endBinding": null,
      "points": [
        [
          0,
          0
        ],
        [
          800,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 94,
      "versionNonce": 1974456106,
      "isDeleted": false,
      "id": "aSLfBb01pzT3h9YBXOLET",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 460,
      "y": -1300,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 104,
      "height": 41,
      "seed": 130809218,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 36,
      "fontFamily": 2,
      "text": "Shoot ",
      "baseline": 33,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 118,
      "versionNonce": 1498910838,
      "isDeleted": false,
      "id": "kTb4VgNX4i7ojh0gsm2AM",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 720,
      "y": -1300,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 84,
      "height": 41,
      "seed": 128552450,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 36,
      "fontFamily": 2,
      "text": "Seed",
      "baseline": 33,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 275,
      "versionNonce": 905992682,
      "isDeleted": false,
      "id": "adT6sMgyBFz1sPTnWZ8Xv",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1620,
      "y": -1200,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 480,
      "height": 90,
      "seed": 348932610,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "ZNCZd8ZHgr4Gn9B7xJL5M",
        "ge5GcBoGAxjZ7V4-pIAy0"
      ],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "\n\nenv\n- name: KUBERNETES_SERVICE_HOST\n  value: api.dev-seed-gcp.d060239.internal.dev.k8s.ondemand.com.",
      "baseline": 86,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 219,
      "versionNonce": 1815744950,
      "isDeleted": false,
      "id": "3jIRKtgIqNOai7eDwqoiE",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5520,
      "y": -1020,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 300,
      "height": 140,
      "seed": 702839582,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "pXQphjrbykpIqNtQYD7t0",
        "7tnB4KluPAoN7cTixHn3F",
        "JGljd88KYuDXoj5IiqdpL",
        "4AQzkPbypcOoDkMUH2ESp"
      ]
    },
    {
      "type": "text",
      "version": 218,
      "versionNonce": 426871978,
      "isDeleted": false,
      "id": "BFn2_g_97XlkbrNqUYjTs",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5617.5,
      "y": -960,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 126,
      "height": 36,
      "seed": 308873822,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "OpenVPN server\n(vpn-seed-server)",
      "baseline": 32,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 255,
      "versionNonce": 431647478,
      "isDeleted": false,
      "id": "2H7vf1mKW_Sz5xwRjKABD",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 6540,
      "y": -1000,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 300,
      "height": 140,
      "seed": 45231454,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "zI2ruFCzWUijCI5MRpcRx",
        "pXQphjrbykpIqNtQYD7t0",
        "iAoqgN5SPpWmb9d6ZYNR_",
        "NxtonSvPozDiNrURIUciY"
      ]
    },
    {
      "type": "text",
      "version": 244,
      "versionNonce": 1169057642,
      "isDeleted": false,
      "id": "QdQVo-4DQn5NqdxKEXxkw",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 6601.304445131616,
      "y": -940,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 123,
      "height": 18,
      "seed": 124263298,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "Shoot API Server",
      "baseline": 14,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "type": "rectangle",
      "version": 221,
      "versionNonce": 6134838,
      "isDeleted": false,
      "id": "BOEPFsce8goJHjgWB0Pj3",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5520,
      "y": -680,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 300,
      "height": 120,
      "seed": 1431182082,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "zI2ruFCzWUijCI5MRpcRx",
        "0pJUViYk2s_H801Ts8AtI"
      ]
    },
    {
      "type": "text",
      "version": 232,
      "versionNonce": 1929505322,
      "isDeleted": false,
      "id": "0MXnu8JQtZA2bpJUMTERT",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5540,
      "y": -640,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 259,
      "height": 36,
      "seed": 1529275294,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "            Envoy Proxy\n(HTTP CONNECT, TLS Termination)",
      "baseline": 32,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 325,
      "versionNonce": 638100854,
      "isDeleted": false,
      "id": "Jq_wvzxA9JRTmoIA2yXiM",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5420,
      "y": -1080,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 580,
      "height": 560,
      "seed": 114737502,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "arrow",
      "version": 1658,
      "versionNonce": 408360170,
      "isDeleted": false,
      "id": "zI2ruFCzWUijCI5MRpcRx",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 6540.950256475291,
      "y": -859,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 13.688566763688868,
      "height": 178,
      "seed": 520298178,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "2H7vf1mKW_Sz5xwRjKABD",
        "gap": 1,
        "focus": 0.9943793490656191
      },
      "endBinding": {
        "elementId": "E3Rz2eC-Z5JGUDixTMBks",
        "gap": 1,
        "focus": 0.6320627549188961
      },
      "points": [
        [
          0,
          0
        ],
        [
          13.688566763688868,
          178
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 388,
      "versionNonce": 1741841002,
      "isDeleted": false,
      "id": "iyZ3_qQltl68NAZMBr4-l",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 6560,
      "y": -840,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 391,
      "height": 54,
      "seed": 1666853150,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "IP packet with destination in pod, node or service CIDR\ne.g 10.250.0.1\n-> knows: egress to Cluster (e.g logs, exec)",
      "baseline": 50,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 2447,
      "versionNonce": 1116985066,
      "isDeleted": false,
      "id": "7tnB4KluPAoN7cTixHn3F",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4120,
      "y": -964.4236760124624,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 920,
      "height": 4.4236760124623515,
      "seed": 1766080798,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "r1Nm7u1fp1MbAYl2Y1YbB",
        "focus": -0.3535144690220375,
        "gap": 20
      },
      "endBinding": {
        "elementId": "huUSCWEQlHSW3XNeJfRF7",
        "focus": -0.014219907871023525,
        "gap": 1
      },
      "points": [
        [
          0,
          0
        ],
        [
          920,
          4.4236760124623515
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": "arrow",
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 182,
      "versionNonce": 1156482346,
      "isDeleted": false,
      "id": "jzMvSbrux7FLTT9YmSsax",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1660,
      "y": -1860,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 123,
      "height": 32,
      "seed": 1346439810,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "rGKoob_1IczEJIBR3ko6h"
      ],
      "fontSize": 28,
      "fontFamily": 2,
      "text": "Gardenlet",
      "baseline": 26,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 390,
      "versionNonce": 1841774710,
      "isDeleted": false,
      "id": "TCTOXnhIP3fa9Cp-XEndc",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -2380,
      "y": -1260,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 280,
      "height": 160,
      "seed": 347838338,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "IvzKXT9z6SV-aheepIZZV"
      ]
    },
    {
      "type": "text",
      "version": 422,
      "versionNonce": 100335478,
      "isDeleted": false,
      "id": "e0j-tiVM6u8OGO8HQZo6Y",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -2360,
      "y": -1260,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 224,
      "height": 162,
      "seed": 1950571102,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "IvzKXT9z6SV-aheepIZZV"
      ],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "MutatingWebhookConfiguration\n(apiserver-proxy-pod-mutator)\n\n  operations:\n    - CREATE\n    resources:\n    - pods\n    scope: '*'\n",
      "baseline": 158,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 449,
      "versionNonce": 815243446,
      "isDeleted": false,
      "id": "w0kHXiFxnDgss5QlvWhJy",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -2080,
      "y": -1218.829426767677,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 339.99999999999994,
      "height": 100,
      "seed": 1391702530,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "IvzKXT9z6SV-aheepIZZV",
        "ZNCZd8ZHgr4Gn9B7xJL5M"
      ]
    },
    {
      "type": "text",
      "version": 351,
      "versionNonce": 12433258,
      "isDeleted": false,
      "id": "R52kzPEG_dboK9HDuZQe4",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -2060,
      "y": -1178.829426767677,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 317,
      "height": 36,
      "seed": 197312450,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "ZNCZd8ZHgr4Gn9B7xJL5M"
      ],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "apiserver-proxy-pod-mutator \nserving from sidecar in Shoot API server pod",
      "baseline": 32,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 2888,
      "versionNonce": 718232298,
      "isDeleted": false,
      "id": "IvzKXT9z6SV-aheepIZZV",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -2135,
      "y": -1168.025269308221,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 54,
      "height": 2.5998717130332807,
      "seed": 1067149314,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "e0j-tiVM6u8OGO8HQZo6Y",
        "focus": 0.06405960606205856,
        "gap": 1
      },
      "endBinding": {
        "elementId": "w0kHXiFxnDgss5QlvWhJy",
        "focus": -0.19999999999999493,
        "gap": 1
      },
      "points": [
        [
          0,
          0
        ],
        [
          54,
          2.5998717130332807
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 83,
      "versionNonce": 171286570,
      "isDeleted": false,
      "id": "8bhmD1VD2ypqa6LgiA5Zf",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1340,
      "y": -1300,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 509,
      "height": 46,
      "seed": 1973407134,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Connect to Shoot API Server via <shoot-internal-domain>\n- shortcut DNS lookup + API server proxy",
      "baseline": 41,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 228,
      "versionNonce": 361975670,
      "isDeleted": false,
      "id": "betf3s_sOKBkNyRorTW9c",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1380,
      "y": -140,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 280,
      "height": 440,
      "seed": 155227166,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "text",
      "version": 66,
      "versionNonce": 1000606442,
      "isDeleted": false,
      "id": "pBnPyU614d8AdXas3VZYF",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1400,
      "y": -140,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 231,
      "height": 437,
      "seed": 742869342,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "kind: VirtualService\nmetadata:\n  name: blackhole\n  namespace: istio-system\nspec:\n hosts:\n  - blackhole.local\n  gateways:\n  - proxy-protocol\n  exportTo:\n  - \".\"\n  tcp:\n  - match:\n    - port: 8443\n    route:\n    - destination:\n        host: localhost\n        port:\n          number: 9999",
      "baseline": 432,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 95,
      "versionNonce": 1218834614,
      "isDeleted": false,
      "id": "7A7JL-VRpw-zhX206dHrK",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1780,
      "y": -160,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 231,
      "height": 345,
      "seed": 789882370,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "\nkind: Gateway\nmetadata:\n  name: proxy-protocol\n  namespace: istio-system\nspec:\n  selector:\n    istio: ingressgateway\n  servers:\n  - port:\n      number: 8443\n      name: tcp\n      protocol: TCP\n    hosts:\n    - \"*\"",
      "baseline": 340,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 259,
      "versionNonce": 1903631786,
      "isDeleted": false,
      "id": "h0zoqzeJPcxBPTmaZGypH",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1760,
      "y": -140,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 260,
      "height": 320,
      "seed": 1540917662,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "text",
      "version": 69,
      "versionNonce": 1532127734,
      "isDeleted": false,
      "id": "pGhAFumIGHBT3m9HIEjOs",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1760,
      "y": -220,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 145,
      "height": 46,
      "seed": 1318443038,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Open port 8443 \non envoy",
      "baseline": 41,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 297,
      "versionNonce": 148494442,
      "isDeleted": false,
      "id": "Jc9L2tz4YAQXj3P7Vwt-O",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2190.638071779007,
      "y": -352.9896344370127,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 358.9260995204834,
      "height": 99.65630110367933,
      "seed": 1360015170,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "-phenSCXeyzigokQhH1Qw",
        "focus": -0.007867898028348462,
        "gap": 1
      },
      "endBinding": null,
      "points": [
        [
          28.575138418158026,
          -27.010365562987307
        ],
        [
          28.575138418158026,
          -105.6863927501026
        ],
        [
          28.575138418158026,
          -105.6863927501026
        ],
        [
          28.575138418158026,
          -105.6863927501026
        ],
        [
          -330.3509611023253,
          -126.66666666666663
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "arrow",
      "version": 76,
      "versionNonce": 2033729782,
      "isDeleted": false,
      "id": "h4IA_ipLFVLleBYfopDHA",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1858.0145709149401,
      "y": -381,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 1.9854290850598773,
      "height": 119,
      "seed": 1900586818,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "vVLZb_hs0qZehAwgHKqlP",
        "focus": -0.029734045794168343,
        "gap": 1
      },
      "endBinding": null,
      "points": [
        [
          0,
          0
        ],
        [
          1.9854290850598773,
          -119
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "rectangle",
      "version": 329,
      "versionNonce": 26688298,
      "isDeleted": false,
      "id": "hhfwBJo86e-CnlhJxNYfT",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2120,
      "y": -140,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 460,
      "height": 480,
      "seed": 1379847070,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "text",
      "version": 32,
      "versionNonce": 1928127606,
      "isDeleted": false,
      "id": "zqlml5WAB-oxhfxxLnhf3",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2120,
      "y": -240,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 311,
      "height": 69,
      "seed": 1919982082,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Configures envoy ingress gateway \nfor PROXY protocol on port 8443 \nfor traffic from apiserver-proxy",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 370,
      "versionNonce": 716006378,
      "isDeleted": false,
      "id": "sJehAXLNqReQxKixrDJVl",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1880,
      "y": -740,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 269,
      "height": 92,
      "seed": 821702018,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "FjGFTQcI2p41KSKPmdhuD",
        "h4IA_ipLFVLleBYfopDHA"
      ],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "\nPer Seed configuration for \nPROXY Protocol on Port 8443\n - required for apiserver-proxy",
      "baseline": 87,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 1822,
      "versionNonce": 1342498230,
      "isDeleted": false,
      "id": "o0IkABRGYgukru-kL7z-6",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2760,
      "y": -1240,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 1.0612342260124024,
      "height": 221.1320376398321,
      "seed": 1927747614,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "97JM8soZ8gfsZ67cCx0O2",
        "focus": 0.40239380473719344,
        "gap": 20
      },
      "endBinding": null,
      "points": [
        [
          0,
          0
        ],
        [
          1.0612342260124024,
          221.1320376398321
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 450,
      "versionNonce": 1265498282,
      "isDeleted": false,
      "id": "Ik_H92JLdKVFzQgQa1BzB",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2780,
      "y": -1120,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 737,
      "height": 69,
      "seed": 1558723394,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Per Shoot configuration \n- Port 443: SNI configured via VirtualService + routing to correct kube-apiserver svc\n- Port 8443: Route to kube-apiserver svc configured via EnvoyFilterChain",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 79,
      "versionNonce": 1695203062,
      "isDeleted": false,
      "id": "5M6TLkB3E4ZnuHPdrLa63",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2720,
      "y": -140,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 628,
      "height": 690,
      "seed": 1718091522,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "kind: EnvoyFilter\nmetadata:  \n  name: http-connect-listener\n  namespace: istio-ingress\nspec:\nworkloadSelector:\n    labels:\n      app: istio-ingressgateway\n      istio: ingressgateway\n  configPatches:\n  - applyTo: NETWORK_FILTER\n    match:\n      context: GATEWAY\n      listener:\n        filterChain:\n          filter:\n            name: envoy.filters.network.http_connection_manager\n        name: 0.0.0.0_8132\n        portNumber: 8132\n    patch:\n      operation: MERGE\n      value:\n        name: envoy.filters.network.http_connection_manager\n        typed_config:\n          '@type': ...http_connection_manager.v3.HttpConnectionManager\n          http_protocol_options:\n            accept_http_10: true\n          upgrade_configs:\n          - upgrade_type: CONNECT\n  ",
      "baseline": 685,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 208,
      "versionNonce": 1430082410,
      "isDeleted": false,
      "id": "ZEyT4JSxFPd5H7sSAJ7bD",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2700,
      "y": -380,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 120,
      "seed": 406368194,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "FjGFTQcI2p41KSKPmdhuD",
        "wzcbzFvhyXkQXhiBy9awD",
        "Jc9L2tz4YAQXj3P7Vwt-O",
        "JsIcSZPNtRikrrqj70CUt"
      ]
    },
    {
      "type": "text",
      "version": 133,
      "versionNonce": 646148150,
      "isDeleted": false,
      "id": "HFT798xlBi9a_fC7l2Pgr",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2702.5,
      "y": -331.5,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 195,
      "height": 46,
      "seed": 683451742,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Envoy Filter Chain\n(http-connect-listener)",
      "baseline": 41,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 452,
      "versionNonce": 164845098,
      "isDeleted": false,
      "id": "JsIcSZPNtRikrrqj70CUt",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2800,
      "y": -380,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 0,
      "height": 460,
      "seed": 154718558,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "ZEyT4JSxFPd5H7sSAJ7bD",
        "focus": 0,
        "gap": 1
      },
      "endBinding": {
        "elementId": "r1Nm7u1fp1MbAYl2Y1YbB",
        "focus": 0.0743801652892562,
        "gap": 20
      },
      "points": [
        [
          0,
          0
        ],
        [
          0,
          -460
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "rectangle",
      "version": 155,
      "versionNonce": 1114170550,
      "isDeleted": false,
      "id": "huUSCWEQlHSW3XNeJfRF7",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5040,
      "y": -1000,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 240,
      "height": 80,
      "seed": 1047919618,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "JGljd88KYuDXoj5IiqdpL",
        "7tnB4KluPAoN7cTixHn3F"
      ]
    },
    {
      "type": "text",
      "version": 178,
      "versionNonce": 1082820394,
      "isDeleted": false,
      "id": "usZbpQKAshHxWk2v_e3xI",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5060,
      "y": -980,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 215,
      "height": 23,
      "seed": 857000670,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "JGljd88KYuDXoj5IiqdpL"
      ],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "vpn-seed-server-service",
      "baseline": 18,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 2224,
      "versionNonce": 2054336118,
      "isDeleted": false,
      "id": "JGljd88KYuDXoj5IiqdpL",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5284.5,
      "y": -952.8857142857596,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 194.609705964338,
      "height": 11.120554626572698,
      "seed": 22518658,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "huUSCWEQlHSW3XNeJfRF7",
        "gap": 4.5,
        "focus": 0
      },
      "endBinding": {
        "elementId": "6ecP22oqGtws4HgtgzmkQ",
        "gap": 1,
        "focus": 0
      },
      "points": [
        [
          0,
          0
        ],
        [
          194.609705964338,
          11.120554626572698
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "ellipse",
      "version": 143,
      "versionNonce": 564089770,
      "isDeleted": false,
      "id": "WwYVlg5yxGYe8vOH3Qsnr",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5420,
      "y": -820,
      "strokeColor": "#000000",
      "backgroundColor": "#e64980",
      "width": 60,
      "height": 40,
      "seed": 686721218,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "arrow",
      "version": 1101,
      "versionNonce": 847990378,
      "isDeleted": false,
      "id": "0pJUViYk2s_H801Ts8AtI",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5600,
      "y": -680,
      "strokeColor": "#000000",
      "backgroundColor": "#e64980",
      "width": 123.85658798825352,
      "height": 101.55104639400884,
      "seed": 2142739458,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "BOEPFsce8goJHjgWB0Pj3",
        "focus": 0.014243791371415964,
        "gap": 1
      },
      "endBinding": {
        "elementId": "dDOuAj18EFB4pXZbqMq-Z",
        "focus": -0.1086373779495585,
        "gap": 6.948953605991164
      },
      "points": [
        [
          0,
          0
        ],
        [
          -123.85658798825352,
          -101.55104639400884
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": "arrow",
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 665,
      "versionNonce": 157721910,
      "isDeleted": false,
      "id": "bnji4BVTQ4HOO5MSwH_77",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5560,
      "y": -820,
      "strokeColor": "#000000",
      "backgroundColor": "#e64980",
      "width": 328,
      "height": 108,
      "seed": 1761353502,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "0pJUViYk2s_H801Ts8AtI"
      ],
      "fontSize": 16,
      "fontFamily": 2,
      "text": "IP package routed to tun0 device \nvia IP routes created in same network ns \nby setup script in OpenVPN\n\nEnvoy opens separate connection with target. \n",
      "baseline": 104,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 1223,
      "versionNonce": 1291479722,
      "isDeleted": false,
      "id": "rvJl4wCgRSokUQWziaLON",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 6540,
      "y": -1260,
      "strokeColor": "#000000",
      "backgroundColor": "#e64980",
      "width": 1044,
      "height": 230,
      "seed": 1535032130,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Request FROM Shoot API Server TO Shoot VPC (e.g logs, exec, ..)\n\nConnect to Shoot VPC via HTTP proxy configured in the EgressSelectionConfig\n    - Envoy in vpn-seed pod acts as HTTP proxy to pods / endpoints in the Shoot VPC (vpn server cannot act as proxy)\n    - Connection goes through previously established VPN tunnel\n\n2 connections\n    - API server has HTTP connection with TLS with Envoy proxy\n    - Proxy has connection via VPN tunnel with pods / endpoints in Shoot \n    ",
      "baseline": 225,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 428,
      "versionNonce": 453545590,
      "isDeleted": false,
      "id": "Bq9-p7PN3GlzQNKn_Zeu_",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2700,
      "y": -140,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 679.9999999999999,
      "height": 680,
      "seed": 959234334,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "text",
      "version": 350,
      "versionNonce": 209695146,
      "isDeleted": false,
      "id": "oH529wPJFcgDXb9xrdfwm",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2944.6982641541226,
      "y": -369.42679813476485,
      "strokeColor": "#000000",
      "backgroundColor": "#e64980",
      "width": 604,
      "height": 138,
      "seed": 633917470,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Envoy listens on HTTP CONNECT requests\nstated by vpn-shoot-client OpenVPN --proxy \nfeature flag. Treats CONNECT requests like any other and forwards.\nEnables the istio ingressgateway to be used as \nproxy to forward the connect to OpenVPN server \npod   ",
      "baseline": 133,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 257,
      "versionNonce": 186339254,
      "isDeleted": false,
      "id": "xDjJtoDBxX_ipmoh191h-",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2100,
      "y": -1480,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 120,
      "seed": 1665439070,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "FjGFTQcI2p41KSKPmdhuD",
        "wzcbzFvhyXkQXhiBy9awD",
        "Jc9L2tz4YAQXj3P7Vwt-O",
        "Lbs1GGF7GPywEN8zjwOe8"
      ]
    },
    {
      "type": "text",
      "version": 172,
      "versionNonce": 1120612010,
      "isDeleted": false,
      "id": "j5dyJzWS0jgszGtbUbCi6",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2100,
      "y": -1440,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 195,
      "height": 46,
      "seed": 1358985090,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Envoy Filter\n(istio-ingressgateway)",
      "baseline": 41,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 1679,
      "versionNonce": 96725238,
      "isDeleted": false,
      "id": "Lbs1GGF7GPywEN8zjwOe8",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2179.906075842411,
      "y": -1340,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 0.7884684155574178,
      "height": 320.7458764053881,
      "seed": 1057899906,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "xDjJtoDBxX_ipmoh191h-",
        "focus": 0.20260699552612668,
        "gap": 20
      },
      "endBinding": null,
      "points": [
        [
          0,
          0
        ],
        [
          0.7884684155574178,
          320.7458764053881
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 263,
      "versionNonce": 394512746,
      "isDeleted": false,
      "id": "jbo9OMfDsJ7WjPnliBdSn",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2200,
      "y": -1340,
      "strokeColor": "#000000",
      "backgroundColor": "#e64980",
      "width": 427,
      "height": 92,
      "seed": 268732866,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Configure Envoy for Port 8443, 9443, 8132\n- Per connection buffer limit for LISTENER \n  & CLUSTER \n- Envoy sends KEEPALIVE to downstream (LB).",
      "baseline": 87,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 155,
      "versionNonce": 1787255350,
      "isDeleted": false,
      "id": "-loNL22JMMkhElULRsk7g",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2200,
      "y": -2300,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 540,
      "height": 460,
      "seed": 1229891998,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "kind: DestinationRule\nmetadata:\n  labels:\n    app: kubernetes\n    role: apiserver\n  name: kube-apiserver\n  namespace: shoot--dev--aws-clone\nspec:\n  exportTo:\n  - '*'\n  host: kube-apiserver.shoot--dev--aws-clone.svc.cluster.local\n  trafficPolicy:\n    connectionPool:\n      tcp:\n        maxConnections: 5000\n        tcpKeepalive:\n          interval: 75s\n          time: 7200s\n    tls:\n      mode: DISABLE",
      "baseline": 455,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 132,
      "versionNonce": 1742408746,
      "isDeleted": false,
      "id": "WwlJHxT9Y65WqU4LLTbO8",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2700,
      "y": -1480,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 100,
      "seed": 627542558,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "r4XKJfudM-ZN4e6IM2w20",
        "o0IkABRGYgukru-kL7z-6"
      ]
    },
    {
      "type": "text",
      "version": 125,
      "versionNonce": 1615504246,
      "isDeleted": false,
      "id": "3mLRa8Hu7aCEP_jLXC4GB",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2740,
      "y": -1460,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 146,
      "height": 69,
      "seed": 1849962178,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "DestinationRule\n\n(kube-apiserver)",
      "baseline": 64,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 140,
      "versionNonce": 495192042,
      "isDeleted": false,
      "id": "j7dXSVZDQEUlyPNgeswwe",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 1340,
      "y": -1460,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 271,
      "height": 92,
      "seed": 133751298,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Either operator provided istio\ninstallation or with feature gate\n\"ManagedIstio\"in Gardenlet\n",
      "baseline": 87,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 284,
      "versionNonce": 1767031990,
      "isDeleted": false,
      "id": "Z0fakRatyuo8MUR8l0xbZ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2180,
      "y": -2320,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 580,
      "height": 479.9999999999999,
      "seed": 1228083422,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "text",
      "version": 190,
      "versionNonce": 498174378,
      "isDeleted": false,
      "id": "VPhUKSvaopLPpc02BpFFc",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2920,
      "y": -1480,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 270,
      "height": 92,
      "seed": 2049646594,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Configuration after routing.\nDisable TLS & TCP settings \n- do not require envoy sidecar \nin downstream pods",
      "baseline": 87,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 89,
      "versionNonce": 2000993782,
      "isDeleted": false,
      "id": "-LS6Ze8lugv-Xf0BF_2DL",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2800,
      "y": -2300,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 574,
      "height": 598,
      "seed": 2001727070,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "kind: VirtualService\nmetadata:\n  labels:\n    app: kubernetes\n    role: apiserver\n  name: kube-apiserver\n  namespace: shoot--dev--aws-clone\nspec:\n  exportTo:\n  - '*'\n  gateways:\n  - kube-apiserver\n  hosts:\n  - api.aws-clone.dev.shoot.dev.k8s-hana.ondemand.com\n  - api.aws-clone.dev.internal.dev.k8s.ondemand.com\n  tls:\n  - match:\n    - port: 443\n      sniHosts:\n      - api.aws-clone.dev.shoot.dev.k8s-hana.ondemand.com\n      - api.aws-clone.dev.internal.dev.k8s.ondemand.com\n    route:\n    - destination:\n        host: kube-apiserver.shoot--dev--aws-clone.svc.cluster.local\n        port:\n          number: 443",
      "baseline": 593,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 186,
      "versionNonce": 451331178,
      "isDeleted": false,
      "id": "97JM8soZ8gfsZ67cCx0O2",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2700,
      "y": -1360,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 100,
      "seed": 33581086,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "r4XKJfudM-ZN4e6IM2w20",
        "o0IkABRGYgukru-kL7z-6"
      ]
    },
    {
      "type": "text",
      "version": 188,
      "versionNonce": 743905014,
      "isDeleted": false,
      "id": "fZ31iBVQ7WRlSEipwypow",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2720,
      "y": -1340,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 146,
      "height": 69,
      "seed": 1789931714,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "VirtualService\n\n(kube-apiserver)",
      "baseline": 64,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 305,
      "versionNonce": 455517994,
      "isDeleted": false,
      "id": "HqhgCzR6gzn7lAxfAgXrr",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2780,
      "y": -2320,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 600,
      "height": 640.0000000000001,
      "seed": 1635475550,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "text",
      "version": 455,
      "versionNonce": 224016502,
      "isDeleted": false,
      "id": "SiBiUoksTyj4j8QroLZJV",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2920,
      "y": -1360,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 349,
      "height": 184,
      "seed": 1437294914,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "dFmjTWPyc3NAtQK2hWu-A"
      ],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Route request to the internal domain \nof the Shoot API server to the \nkube-apiserver service in the \nshoot namespace on port 443.\n\nConfigures hosts that must be present  \nin the TLS handshakefor SNI\n(e.g set by apiserver-proxy)",
      "baseline": 179,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 245,
      "versionNonce": 920400362,
      "isDeleted": false,
      "id": "YKbe0JXx70VQAo_-bZsnc",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2200,
      "y": -3020,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 820,
      "height": 690,
      "seed": 137402718,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "kind: EnvoyFilter\nmetadata:\n  name: shoot--dev--aws-clone\n  namespace: istio-ingress\nspec:\n  workloadSelector:\n    labels:\n      istio: ingressgateway  \nconfigPatches:\n  - applyTo: FILTER_CHAIN\n    match:\n      context: ANY\n      listener:\n        name: 0.0.0.0_8443\n        portNumber: 8443\n    patch:\n      operation: ADD\n      value:\n        filter_chain_match:\n          destination_port: 443\n          prefix_ranges:\n          - address_prefix: 10.243.36.239 # Cluster IP Shoot API server\n            prefix_len: 32\n        filters:\n        - name: envoy.filters.network.tcp_proxy\n          typed_config:\n            '@type': type.googleapis.com/envoy.extensions.filters.network.tcp_proxy.v3.TcpProxy\n            cluster: outbound|443||kube-apiserver.shoot--dev--aws-clone.svc.cluster.local\n            stat_prefix: outbound|443||kube-apiserver.shoot--dev--aws-clone.svc.cluster.local\n",
      "baseline": 685,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 253,
      "versionNonce": 1504164278,
      "isDeleted": false,
      "id": "ICmkDimW7-66FMDUyLHKH",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2700,
      "y": -1600,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 100,
      "seed": 798748126,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "r4XKJfudM-ZN4e6IM2w20",
        "o0IkABRGYgukru-kL7z-6",
        "dFmjTWPyc3NAtQK2hWu-A"
      ]
    },
    {
      "type": "text",
      "version": 131,
      "versionNonce": 1091724458,
      "isDeleted": false,
      "id": "sKifCa_3LWWDe6Zgkk-vA",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2720,
      "y": -1580,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 172,
      "height": 69,
      "seed": 2119635458,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "EnvoyFilter\n  name: <shoot-ns>\n  ns: istio-ingress",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 187,
      "versionNonce": 1156529270,
      "isDeleted": false,
      "id": "AiMaIbDMpg9eHBXRbcAPz",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2920,
      "y": -1600,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 420,
      "height": 69,
      "seed": 296680286,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "EnsuresFilterChainMatch makes \nsure that only Shoot API server from correct ns \ncan receive traffic from this port 8443",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 589,
      "versionNonce": 1936998250,
      "isDeleted": false,
      "id": "FnsMioO1_AXgZl1RVfcLT",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2180,
      "y": -3040,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 839.9999999999995,
      "height": 700,
      "seed": 921177218,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "text",
      "version": 160,
      "versionNonce": 765968938,
      "isDeleted": false,
      "id": "REHgkRowBMj772iMqk3ZV",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 2820,
      "y": -800,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 399,
      "height": 92,
      "seed": 1996447490,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "\nPer Seed configuration for HTTP CONNECT \non port 8132 \n- required for reverse VPN",
      "baseline": 87,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 1918,
      "versionNonce": 441238058,
      "isDeleted": false,
      "id": "qVQ6em9c2b9Lw9Gk-63le",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3700,
      "y": -1200,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 1.309420454436804,
      "height": 181.25872579677025,
      "seed": 935890526,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "JY4fFFDsKUCRuKQHzOncJ",
        "focus": 0.40359902072946424,
        "gap": 20
      },
      "endBinding": null,
      "points": [
        [
          0,
          0
        ],
        [
          1.309420454436804,
          181.25872579677025
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 315,
      "versionNonce": 259476854,
      "isDeleted": false,
      "id": "pf1ig5lhzvNfWCVepNDEb",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3720,
      "y": -1120,
      "strokeColor": "#000000",
      "backgroundColor": "#82c91e",
      "width": 744,
      "height": 46,
      "seed": 700658654,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Per Shoot configuration for reverse VPN\n- Port 8132: Route to vpn-seed-svc configured via EnvoyFilterChain + VirtualService",
      "baseline": 41,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 103,
      "versionNonce": 1082584298,
      "isDeleted": false,
      "id": "6eZBFjyW2S9psR9dGdzGx",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1540,
      "y": -1900,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "width": 200,
      "height": 140,
      "seed": 1523573890,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "ge5GcBoGAxjZ7V4-pIAy0"
      ]
    },
    {
      "type": "text",
      "version": 120,
      "versionNonce": 559558326,
      "isDeleted": false,
      "id": "U_Yl9it_MAsMfUEWlz3bS",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1520,
      "y": -1860,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 156,
      "height": 46,
      "seed": 961579522,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "VPN-shoot-client \npod",
      "baseline": 41,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "arrow",
      "version": 160,
      "versionNonce": 1538113450,
      "isDeleted": false,
      "id": "ge5GcBoGAxjZ7V4-pIAy0",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -1440,
      "y": -1740,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 0,
      "height": 540,
      "seed": 403077058,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "1OPtVMzl_Uv0K7cjmbzfn",
        "focus": 0,
        "gap": 1
      },
      "endBinding": {
        "elementId": "adT6sMgyBFz1sPTnWZ8Xv",
        "focus": -0.25,
        "gap": 1
      },
      "points": [
        [
          0,
          0
        ],
        [
          0,
          540
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "version": 1449,
      "versionNonce": 2011970154,
      "isDeleted": false,
      "id": "z1px1N6ylCP7s1IIFk3TC",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": -2380,
      "y": -2140,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 776,
      "height": 874,
      "seed": 87611230,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "https://github.com/gardener/vpn2/blob/master/shoot-client/network-connection.sh\n\nGet the unique client IP address (created in OpenVPN server\nvia \"server 192.168.123.0\" command)\n    - \"pull\" command which ignores all routes \n    - pull-filter accept \\\"route 192.168.123.\\\"\"\n    - create tun0 device with e.g 192.168.123.6\n\nEnable forwarding for IP packets from tun0 (Source and destination IP not host IP - can \nbe any IP from pod, service, node network)\n    iptables --append FORWARD --in-interface tun0 -j ACCEPT\n\nSource NAT\n    iptables --append POSTROUTING --out-interface eth0 --table nat -j MASQUERADE\n\nRouting rules\n    192.168.123.1 via 192.168.123.5 dev tun0\n\nConnect to OpenVPN server \n- using client-certificate with CN \"vpn-shoot-client\".\n- istio-ingressgateway envoy as proxy client (needs to \n  understand HTTP CONNECT on port 8132)\n- Both HTTP proxy and destination are internal shoot domain. \n  We configure envoy to route to right vpn-server pod based on destination\n  domain (shoot internal domain)\n\n  openvpn \n        --remote api.aws-clone.dev.internal.dev.k8s.ondemand.com. \n        --port 8132\n        --http-proxy api.aws-clone.dev.internal.dev.k8s.ondemand.com:8132 \n        --config openvpn.config\n\n\n\n\n\n\n",
      "baseline": 869,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 121,
      "versionNonce": 2010806582,
      "isDeleted": false,
      "id": "XBZdSC_AvYSa6lSh2vEaB",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3580,
      "y": -3080,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 1088,
      "height": 851,
      "seed": 712715778,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "kind: EnvoyFilter\nmetadata:\n  name: shoot--dev--aws-clone\n  namespace: istio-ingress\nspec:\n  workloadSelector:\n    labels:\n      istio: ingressgateway\nconfigPatches: \n - applyTo: NETWORK_FILTER\n    match:\n      context: GATEWAY\n      listener:\n        filterChain:\n          filter:\n            name: envoy.filters.network.http_connection_manager\n        name: 0.0.0.0_8132\n        portNumber: 8132\n    patch:\n      operation: MERGE\n      value:\n        name: envoy.filters.network.http_connection_manager\n        typed_config:\n          '@type': type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n          route_config:\n            virtual_hosts:\n            - domains:\n              - api.aws-clone.dev.internal.dev.k8s.ondemand.com.:8132\n              name: shoot--dev--aws-clone\n              routes:\n              - match:\n                  connect_matcher: {}\n                route:\n                  cluster: outbound|1194||vpn-seed-server.shoot--dev--aws-clone.svc.cluster.local\n                  upgrade_configs:\n                  - connect_config: {}\n                    upgrade_type: CONNECT",
      "baseline": 846,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 298,
      "versionNonce": 1678597418,
      "isDeleted": false,
      "id": "kZkBVtOC8ZgyBJveSJpyr",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3640,
      "y": -1600,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 100,
      "seed": 830957918,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "r4XKJfudM-ZN4e6IM2w20",
        "o0IkABRGYgukru-kL7z-6",
        "dFmjTWPyc3NAtQK2hWu-A"
      ]
    },
    {
      "type": "text",
      "version": 173,
      "versionNonce": 870441590,
      "isDeleted": false,
      "id": "gn3HcJSKjSnjt1slR75C7",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3660,
      "y": -1580,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 172,
      "height": 69,
      "seed": 470082434,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "EnvoyFilter\n  name: <shoot-ns>\n  ns: istio-ingress",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 294,
      "versionNonce": 1568417770,
      "isDeleted": false,
      "id": "hDedYSKX1qWm2naL-wqix",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3640,
      "y": -1460,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 100,
      "seed": 1865769538,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "r4XKJfudM-ZN4e6IM2w20",
        "o0IkABRGYgukru-kL7z-6",
        "7wjnpb1Te5v88VZxxEgQk"
      ]
    },
    {
      "type": "text",
      "version": 293,
      "versionNonce": 1705649078,
      "isDeleted": false,
      "id": "wfFVgfnMa4-MSaAQ4EErQ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3680,
      "y": -1440,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 146,
      "height": 69,
      "seed": 1392138974,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "VirtualService\n\n(kube-apiserver)",
      "baseline": 64,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "rectangle",
      "version": 305,
      "versionNonce": 1011063466,
      "isDeleted": false,
      "id": "JY4fFFDsKUCRuKQHzOncJ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3640,
      "y": -1320,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 200,
      "height": 100,
      "seed": 479331294,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "r4XKJfudM-ZN4e6IM2w20",
        "o0IkABRGYgukru-kL7z-6",
        "dFmjTWPyc3NAtQK2hWu-A",
        "qVQ6em9c2b9Lw9Gk-63le",
        "7wjnpb1Te5v88VZxxEgQk"
      ]
    },
    {
      "type": "text",
      "version": 52,
      "versionNonce": 1331182838,
      "isDeleted": false,
      "id": "wKACA829oGDen_3po4zP3",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3661,
      "y": -1281.5,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 158,
      "height": 46,
      "seed": 763882690,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Gateway \n(vpn-seed-server)",
      "baseline": 41,
      "textAlign": "center",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 167,
      "versionNonce": 521057642,
      "isDeleted": false,
      "id": "2B8bNUCjZkERUnVtAz0Qp",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3880,
      "y": -1300,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 216,
      "height": 46,
      "seed": 1618064258,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Open port 8132 only for \ninternal Shoot domain ",
      "baseline": 41,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 210,
      "versionNonce": 388528170,
      "isDeleted": false,
      "id": "-mahPdsAtsCVAXmIzaFT0",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3880,
      "y": -1440,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 479,
      "height": 69,
      "seed": 2098707970,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Configure routing for host: <shoot internal domain> to \nport 1194 of vpn-seed-server service\n(Port of OpenVPN server)",
      "baseline": 64,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "ellipse",
      "version": 34,
      "versionNonce": 668596086,
      "isDeleted": false,
      "id": "6ecP22oqGtws4HgtgzmkQ",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5480,
      "y": -960,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 60,
      "height": 40,
      "seed": 1133183554,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "JGljd88KYuDXoj5IiqdpL"
      ]
    },
    {
      "type": "text",
      "version": 62,
      "versionNonce": 1417405162,
      "isDeleted": false,
      "id": "t6LvOBmvvOTqXEP8Gd0vF",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5480,
      "y": -980,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 85,
      "height": 23,
      "seed": 1053360030,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Port 1194",
      "baseline": 18,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "ellipse",
      "version": 71,
      "versionNonce": 735549622,
      "isDeleted": false,
      "id": "DEnwSiyHHfqUC2nX23ZlW",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5800,
      "y": -640,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 60,
      "height": 40,
      "seed": 1933353438,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "zI2ruFCzWUijCI5MRpcRx",
        "SPx6ooNeZOMJ5Q0fO6heb",
        "NxtonSvPozDiNrURIUciY"
      ]
    },
    {
      "type": "text",
      "version": 99,
      "versionNonce": 1368651178,
      "isDeleted": false,
      "id": "uAVTmHcP2s1p8kH_XEa0J",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5840,
      "y": -600,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 87,
      "height": 23,
      "seed": 807811358,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Port 9443",
      "baseline": 18,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "line",
      "version": 53,
      "versionNonce": 974066166,
      "isDeleted": false,
      "id": "HfmPE6XPGruz7iVFc09Gz",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3020,
      "y": -2460,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 540,
      "height": 0,
      "seed": 1565092830,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "startBinding": null,
      "endBinding": null,
      "points": [
        [
          0,
          0
        ],
        [
          540,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "type": "text",
      "version": 83,
      "versionNonce": 2140909674,
      "isDeleted": false,
      "id": "7O20o0X7BNCdGRn_Jr2AS",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3080,
      "y": -2500,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 467,
      "height": 23,
      "seed": 489946434,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Appended if both SNI and Reverse VPN are enabled",
      "baseline": 18,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 112,
      "versionNonce": 495280950,
      "isDeleted": false,
      "id": "U8naS4NoCgOmT4SG3SqOt",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4240,
      "y": -2040,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 475,
      "height": 391,
      "seed": 783842562,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "kind: VirtualService\nmetadata:\n  name: vpn-seed-server\n  namespace: shoot--dev--aws-clone\nspec:\n  exportTo:\n  - '*'\n  gateways:\n  - vpn-seed-server\n  hosts:\n  - api.aws-clone.dev.internal.dev.k8s.ondemand.com.\n  http:\n  - route:\n    - destination:\n        host: vpn-seed-server\n        port:\n          number: 1194",
      "baseline": 386,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "type": "text",
      "version": 65,
      "versionNonce": 1918767914,
      "isDeleted": false,
      "id": "r1yx7523sGl9hPseo5fW2",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3620,
      "y": -2040,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 486,
      "height": 322,
      "seed": 1568463646,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "apiVersion: networking.istio.io/v1beta1\nkind: Gateway\nmetadata:\n  name: vpn-seed-server\n  namespace: shoot--dev--aws-clone\nselector:\n    istio: ingressgateway\n  servers:\n  - hosts:\n    - api.aws-clone.dev.internal.dev.k8s.ondemand.com.\n    port:\n      name: tls-tunnel\n      number: 8132\n      protocol: HTTP",
      "baseline": 317,
      "textAlign": "left",
      "verticalAlign": "top"
    },
    {
      "id": "1OPtVMzl_Uv0K7cjmbzfn",
      "type": "ellipse",
      "x": -1460,
      "y": -1780,
      "width": 40,
      "height": 40,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1625940214,
      "version": 32,
      "versionNonce": 710856874,
      "isDeleted": false,
      "boundElementIds": [
        "ge5GcBoGAxjZ7V4-pIAy0"
      ]
    },
    {
      "id": "Yu21QlRc6-p3vJhn3lM_s",
      "type": "text",
      "x": -1420,
      "y": -1740,
      "width": 197,
      "height": 46,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1450241194,
      "version": 79,
      "versionNonce": 1278437110,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "tun0 network interface\n(192.168.123.6)",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 41
    },
    {
      "id": "Q6i0iyAgoLj6O7EuBbgOg",
      "type": "text",
      "x": 5400,
      "y": -1780,
      "width": 960,
      "height": 644,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 125831722,
      "version": 1231,
      "versionNonce": 326279542,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Tunnel setup\n\nVPN server contacted from vpn-shoot-client \nto initialise tunnel tunnel with OpenVPN server in seed.\n\nOpenVPN server setup \n- Note: The network mesh spanned by OpenVPN uses the network range 192.168.123.0 - 192.168.123.255. \nThis network range cannot be used in either shoot-, or seed clusters\n \nAssign IP addresses for OpenVPN clients (server directive)\n - server 192.168.123.0 255.255.255.0\n - vpn-client \"pulls\" this IP address and creates it's tun0 device with 192.168.123.X\n\nAdd local route table entries to route the pod, service, node (If configured)  network CIDRs over the VPN\n - route ${SERVICE_NETWORK_ADDRESS} ${SERVICE_NETWORK_NETMASK}\n - route ${POD_NETWORK_ADDRESS} ${POD_NETWORK_NETMASK}\n\nPKI for VPN server and clients \n - CN of client certificate (always:vpn-shoot-client) is matched  \n    against a local configuration file with same name \"vpn-shoot-client.template\"\n    containing \"iroute\" commands telling the Open VPNServer which networks this \n    client is responsible for.\n    Exactly for the pod, service and node CIDR.\n\n    iroute ${SERVICE_NETWORK_ADDRESS} ${SERVICE_NETWORK_NETMASK}\n    iroute ${POD_NETWORK_ADDRESS} ${POD_NETWORK_NETMASK}\n    if configured in ShootSpec: also for Node network.  \n",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 639
    },
    {
      "id": "dDOuAj18EFB4pXZbqMq-Z",
      "type": "text",
      "x": 5430.5,
      "y": -811.5,
      "width": 39,
      "height": 23,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1574126186,
      "version": 49,
      "versionNonce": 852165302,
      "isDeleted": false,
      "boundElementIds": [
        "0pJUViYk2s_H801Ts8AtI",
        "4AQzkPbypcOoDkMUH2ESp",
        "pXQphjrbykpIqNtQYD7t0"
      ],
      "text": "tun0",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 18
    },
    {
      "id": "5PMRyfCHhV81_mmuqiXWb",
      "type": "text",
      "x": 5640,
      "y": -239.99999999999994,
      "width": 1117,
      "height": 1495,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 779802090,
      "version": 76,
      "versionNonce": 53063350,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "static_resources:\n      listeners:\n      - name: listener_0\n        address:\n          socket_address:\n            protocol: TCP\n            address: 0.0.0.0\n            port_value: 9443\n        listener_filters:\n        - name: \"envoy.filters.listener.tls_inspector\"\n          typed_config: {}\n        filter_chains:\n        - transport_socket:\n            name: envoy.transport_sockets.tls\n            typed_config:\n              \"@type\": type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.DownstreamTlsContext\n              common_tls_context:\n                tls_certificates:\n                - certificate_chain: { filename: \"/etc/tls/tls.crt\" }\n                  private_key: { filename: \"/etc/tls/tls.key\" }\n                validation_context:\n                  trusted_ca:\n                    filename: /etc/tls/ca.crt\n          filters:\n          - name: envoy.filters.network.http_connection_manager\n            typed_config:\n              \"@type\": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager\n              stat_prefix: ingress_http\n              route_config:\n                name: local_route\n                virtual_hosts:\n                - name: local_service\n                  domains:\n                  - \"*\"\n                  routes:\n                  - match:\n                      connect_matcher: {}\n                    route:\n                      cluster: dynamic_forward_proxy_cluster\n                      upgrade_configs:\n                      - upgrade_type: CONNECT\n                        connect_config: {}\n              http_filters:\n              - name: envoy.filters.http.dynamic_forward_proxy\n                typed_config:\n                  \"@type\": type.googleapis.com/envoy.extensions.filters.http.dynamic_forward_proxy.v3.FilterConfig\n                  dns_cache_config:\n                    name: dynamic_forward_proxy_cache_config\n                    dns_lookup_family: V4_ONLY\n              - name: envoy.filters.http.router\n              http_protocol_options:\n                accept_http_10: true\n              upgrade_configs:\n              - upgrade_type: CONNECT\n      clusters:\n      - name: dynamic_forward_proxy_cluster\n        connect_timeout: 1s\n        lb_policy: CLUSTER_PROVIDED\n        cluster_type:\n          name: envoy.clusters.dynamic_forward_proxy\n          typed_config:\n            \"@type\": type.googleapis.com/envoy.extensions.clusters.dynamic_forward_proxy.v3.ClusterConfig\n            dns_cache_config:\n              name: dynamic_forward_proxy_cache_config\n              dns_lookup_family: V4_ONLY",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 1490
    },
    {
      "id": "uujY8nPfpOsph4sP4lNyr",
      "type": "text",
      "x": 5820,
      "y": -1080,
      "width": 160,
      "height": 46,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 348231850,
      "version": 59,
      "versionNonce": 438717750,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "network ns \n(not host network)",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 41
    },
    {
      "id": "CHgeNjLK64HtP-Dcjh0vb",
      "type": "line",
      "x": 5660,
      "y": -560,
      "width": 0,
      "height": 140,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 318051114,
      "version": 33,
      "versionNonce": 1008257322,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          140
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "id": "frpaO40PKir-6KFVj1RqS",
      "type": "text",
      "x": 5681.329216535112,
      "y": -469.49064139262816,
      "width": 282,
      "height": 23,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1751918186,
      "version": 62,
      "versionNonce": 1167275638,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Envoy proxy static configuration",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 18
    },
    {
      "id": "FUVjnip8HxgtmWMzGeLgO",
      "type": "text",
      "x": 5640.079216535112,
      "y": -416.99064139262816,
      "width": 645,
      "height": 161,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1178482934,
      "version": 520,
      "versionNonce": 819379638,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Goal: Envoy as http proxy and just forward traffic (implicit routing to tun0)\n\n- Listens on port 9443\n- TLS config corresponding to EgressSelectionConfig\n  in the Shoot API server\n- Route any domain to CLUSTER dynamic-forwarding-proxy (why?)\n",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 156
    },
    {
      "type": "rectangle",
      "version": 322,
      "versionNonce": 1578170294,
      "isDeleted": false,
      "id": "kC99nAen6BpYFEPcoqRmp",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3600,
      "y": -2060,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 520,
      "height": 359.9999999999999,
      "seed": 498488822,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "type": "rectangle",
      "version": 348,
      "versionNonce": 23332522,
      "isDeleted": false,
      "id": "_3ds6sJRDe6zYlbiU-L1m",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4220,
      "y": -2060,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 520,
      "height": 419.9999999999999,
      "seed": 2011793770,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "id": "DtZY4TaQy7GoAsEr_UWjH",
      "type": "text",
      "x": 4140,
      "y": -1020,
      "width": 623,
      "height": 23,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 933660970,
      "version": 118,
      "versionNonce": 1027711338,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Port 8132: Routed to port 1194 of vpn-seed-service (OpenVPN server)",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 18
    },
    {
      "type": "arrow",
      "version": 2354,
      "versionNonce": 1781727798,
      "isDeleted": false,
      "id": "6ewWEc_NhIqT0uI7MeItx",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": null,
      "y": null,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": null,
      "height": null,
      "seed": 2139467626,
      "groupIds": [],
      "strokeSharpness": "round",
      "boundElementIds": [],
      "startBinding": {
        "elementId": "r1Nm7u1fp1MbAYl2Y1YbB",
        "focus": -0.8512396694214877,
        "gap": 20
      },
      "endBinding": {
        "elementId": "STWI_38C_lzGBLkXai0pA",
        "focus": 0.3333333333333333,
        "gap": 1.1141300472071691
      },
      "points": [
        [
          0,
          0
        ],
        [
          null,
          null
        ]
      ],
      "lastCommittedPoint": null,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "lNyfC783UP39bMV1BmqJZ",
      "type": "text",
      "x": 4240,
      "y": -840,
      "width": 311,
      "height": 69,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1321185590,
      "version": 413,
      "versionNonce": 1209918506,
      "isDeleted": false,
      "boundElementIds": [],
      "text": "Traffic for port 8443 & 9443 routed \nto 443 of kube-apiserver svc \n ",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 64
    },
    {
      "type": "rectangle",
      "version": 650,
      "versionNonce": 1010912118,
      "isDeleted": false,
      "id": "0wnwfYv0X3um9POKmBEPp",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 3560,
      "y": -3100,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 1119.9999999999998,
      "height": 880,
      "seed": 604612202,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "id": "t_-bKx4JZbA0-0Jzljqxr",
      "type": "text",
      "x": 5000,
      "y": -760,
      "width": 403,
      "height": 115,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 112744630,
      "version": 30,
      "versionNonce": 467914474,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "10.250.0.0/16 via 192.168.123.2 dev tun0\n100.64.0.0/13 via 192.168.123.2 dev tun0\n100.96.0.0/11 via 192.168.123.2 dev tun0\n169.254.1.1 dev eth0 scope link\n192.168.123.0/24 via 192.168.123.2 dev tun0",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 110
    },
    {
      "type": "rectangle",
      "version": 189,
      "versionNonce": 1025401258,
      "isDeleted": false,
      "id": "E3Rz2eC-Z5JGUDixTMBks",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 6360,
      "y": -680,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 240,
      "height": 80,
      "seed": 1171371958,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "7tnB4KluPAoN7cTixHn3F",
        "JGljd88KYuDXoj5IiqdpL",
        "SPx6ooNeZOMJ5Q0fO6heb",
        "zI2ruFCzWUijCI5MRpcRx"
      ]
    },
    {
      "id": "pF7aQ7VOagQKQaQjGKhH3",
      "type": "text",
      "x": 6380,
      "y": -660,
      "width": 215,
      "height": 23,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1646677290,
      "version": 52,
      "versionNonce": 1727569002,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "vpn-seed-server-service",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 18
    },
    {
      "id": "SPx6ooNeZOMJ5Q0fO6heb",
      "type": "arrow",
      "x": 6359,
      "y": -617.1964871063603,
      "width": 498.30893255176306,
      "height": 0.15382248797118336,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1537694762,
      "version": 441,
      "versionNonce": 398276406,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          -498.30893255176306,
          0.15382248797118336
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "E3Rz2eC-Z5JGUDixTMBks",
        "gap": 1,
        "focus": -0.5686274509803922
      },
      "endBinding": {
        "elementId": "DEnwSiyHHfqUC2nX23ZlW",
        "gap": 1,
        "focus": 0.14834045293024462
      },
      "startArrowhead": "arrow",
      "endArrowhead": "arrow"
    },
    {
      "id": "NSQu9KMwJmZzt88Yqo2Y5",
      "type": "line",
      "x": 6840,
      "y": -900,
      "width": 140,
      "height": 0,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1170130166,
      "version": 67,
      "versionNonce": 1515719146,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          140,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "id": "XtWpC_zlK8l81HEiH7acI",
      "type": "text",
      "x": 6880,
      "y": -940,
      "width": 56,
      "height": 23,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 619813366,
      "version": 80,
      "versionNonce": 511009206,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "mount",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 18
    },
    {
      "id": "pSJXyFEbyF54V2mNReHTH",
      "type": "text",
      "x": 6560,
      "y": -780,
      "width": 263,
      "height": 72,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#4c6ef5",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1364009910,
      "version": 104,
      "versionNonce": 134986486,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "\nCONNECT 10.250.0.1:443 HTTP/1.1\n \n",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 68
    },
    {
      "id": "cjUlPEZjVJw8qNufHRteL",
      "type": "rectangle",
      "x": 5000,
      "y": -760,
      "width": 400,
      "height": 120,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1903913270,
      "version": 116,
      "versionNonce": 995542250,
      "isDeleted": false,
      "boundElementIds": null
    },
    {
      "id": "VY9wEzKWIGTwWNDbQkePg",
      "type": "line",
      "x": 5400,
      "y": -700,
      "width": 120,
      "height": 40,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1388008182,
      "version": 47,
      "versionNonce": 1578358454,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          120,
          -40
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "id": "4AQzkPbypcOoDkMUH2ESp",
      "type": "arrow",
      "x": 5520,
      "y": -880,
      "width": 60,
      "height": 60,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 259727466,
      "version": 32,
      "versionNonce": 516069290,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          -60,
          60
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "3jIRKtgIqNOai7eDwqoiE",
        "focus": 0.3636363636363637,
        "gap": 1
      },
      "endBinding": {
        "elementId": "dDOuAj18EFB4pXZbqMq-Z",
        "focus": -0.32258064516129037,
        "gap": 8.5
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "rZ1HPnv3RyxAhkNbFe_Vq",
      "type": "text",
      "x": 5500,
      "y": -860,
      "width": 37,
      "height": 18,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1321267638,
      "version": 43,
      "versionNonce": 370380790,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "listen",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 14
    },
    {
      "id": "gXtMfhjHvaS0C39niG_4C",
      "type": "text",
      "x": 5080,
      "y": -600,
      "width": 313.00000000000034,
      "height": 72.00000000000009,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1091258038,
      "version": 780,
      "versionNonce": 1704984554,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Answer IP packets arrive via tun0 in OS and\nhave destination Envoy pod IP\n  \n ",
      "fontSize": 16.000000000000018,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 68.00000000000009
    },
    {
      "id": "K5_qXBAxSUSAA3wlSyAQW",
      "type": "text",
      "x": 6020,
      "y": -660,
      "width": 335,
      "height": 36,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1860131382,
      "version": 198,
      "versionNonce": 1146080182,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Envoy as http proxy for Shoot API server\nAPI server  opens HTTP connection with envoy",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 32
    },
    {
      "id": "NxtonSvPozDiNrURIUciY",
      "type": "arrow",
      "x": 5859.697112410537,
      "y": -640.0665727396222,
      "width": 660.3028875894634,
      "height": 304.0857652708178,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 479332918,
      "version": 170,
      "versionNonce": 1837145974,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          660.3028875894634,
          -304.0857652708178
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "DEnwSiyHHfqUC2nX23ZlW",
        "gap": 9.975755835703346,
        "focus": -0.26289051816603787
      },
      "endBinding": {
        "elementId": "2H7vf1mKW_Sz5xwRjKABD",
        "gap": 20,
        "focus": 0.6646706586826348
      },
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "id": "owUxEA_VNlhNrWydchl_Q",
      "type": "text",
      "x": 6140,
      "y": -760,
      "width": 287,
      "height": 36,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 752384938,
      "version": 107,
      "versionNonce": 536066794,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Envoy sends back content to API server \nvia established  HTTP connection",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 32
    },
    {
      "id": "RstJJ4I0gE7M77vVn8LSI",
      "type": "line",
      "x": 5400,
      "y": -620,
      "width": 141.7296205945313,
      "height": 98.451066929847,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 426706998,
      "version": 54,
      "versionNonce": 1449738422,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          141.7296205945313,
          -98.451066929847
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "id": "4bhHAo6wxiRtvn_6kukTO",
      "type": "rectangle",
      "x": 5080,
      "y": -600,
      "width": 320,
      "height": 40,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 779413430,
      "version": 135,
      "versionNonce": 273730986,
      "isDeleted": false,
      "boundElementIds": null
    },
    {
      "type": "rectangle",
      "version": 451,
      "versionNonce": 1949022710,
      "isDeleted": false,
      "id": "K9aGhPG2_4CZq354cwv36",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4340,
      "y": -440,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 300,
      "height": 100,
      "seed": 1374340534,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "zI2ruFCzWUijCI5MRpcRx",
        "pXQphjrbykpIqNtQYD7t0",
        "iAoqgN5SPpWmb9d6ZYNR_",
        "NxtonSvPozDiNrURIUciY",
        "6ewWEc_NhIqT0uI7MeItx"
      ]
    },
    {
      "type": "text",
      "version": 476,
      "versionNonce": 16615530,
      "isDeleted": false,
      "id": "uy42zXeM4VuARYK1W8U6X",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4420,
      "y": -400,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 153,
      "height": 23,
      "seed": 727062698,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [],
      "fontSize": 20,
      "fontFamily": 2,
      "text": "Shoot API Server",
      "baseline": 18,
      "textAlign": "center",
      "verticalAlign": "middle"
    },
    {
      "type": "ellipse",
      "version": 235,
      "versionNonce": 432335658,
      "isDeleted": false,
      "id": "STWI_38C_lzGBLkXai0pA",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4460,
      "y": -460,
      "strokeColor": "#000000",
      "backgroundColor": "#fa5252",
      "width": 60,
      "height": 40,
      "seed": 589915178,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "JGljd88KYuDXoj5IiqdpL",
        "6ewWEc_NhIqT0uI7MeItx"
      ]
    },
    {
      "id": "bp3-ZOfAaCOg0BUa6-UOO",
      "type": "text",
      "x": 4480,
      "y": -460,
      "width": 27,
      "height": 18,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1851864746,
      "version": 57,
      "versionNonce": 28456054,
      "isDeleted": false,
      "boundElementIds": [
        "CVhlChkDcJhLaMsKHIRGw"
      ],
      "text": "443",
      "fontSize": 16,
      "fontFamily": 2,
      "textAlign": "center",
      "verticalAlign": "middle",
      "baseline": 14
    },
    {
      "type": "rectangle",
      "version": 421,
      "versionNonce": 1360131562,
      "isDeleted": false,
      "id": "jXBW1yX_caIJZ8LfTq-LG",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 4340,
      "y": -660,
      "strokeColor": "#000000",
      "backgroundColor": "#228be6",
      "width": 300,
      "height": 100,
      "seed": 1792675498,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": [
        "zI2ruFCzWUijCI5MRpcRx",
        "pXQphjrbykpIqNtQYD7t0",
        "iAoqgN5SPpWmb9d6ZYNR_",
        "NxtonSvPozDiNrURIUciY",
        "6ewWEc_NhIqT0uI7MeItx",
        "CVhlChkDcJhLaMsKHIRGw",
        "C6gCPTDVUvLwrygOYJwDR"
      ]
    },
    {
      "id": "rD-xuV65cPtCKef1t3_wE",
      "type": "text",
      "x": 4400,
      "y": -640,
      "width": 168,
      "height": 46,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 501123242,
      "version": 67,
      "versionNonce": 2040542646,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "kube-apiserver svc\n(10.243.36.239)",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 41
    },
    {
      "id": "C6gCPTDVUvLwrygOYJwDR",
      "type": "arrow",
      "x": 4100,
      "y": -860,
      "width": 307.7142857142844,
      "height": 199,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 171787626,
      "version": 207,
      "versionNonce": 401582250,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          307.7142857142844,
          199
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "r1Nm7u1fp1MbAYl2Y1YbB",
        "focus": -0.8144952498856213,
        "gap": 1
      },
      "endBinding": {
        "elementId": "jXBW1yX_caIJZ8LfTq-LG",
        "focus": -0.015063950734256374,
        "gap": 1
      },
      "startArrowhead": "arrow",
      "endArrowhead": "arrow"
    },
    {
      "id": "CVhlChkDcJhLaMsKHIRGw",
      "type": "arrow",
      "x": 4481.599681992084,
      "y": -559.5141389872879,
      "width": 1.599681992083788,
      "height": 99.51413898728788,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 952155446,
      "version": 241,
      "versionNonce": 1589382902,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          -1.599681992083788,
          99.51413898728788
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "jXBW1yX_caIJZ8LfTq-LG",
        "focus": 0.05032210367637789,
        "gap": 1
      },
      "endBinding": {
        "elementId": "bp3-ZOfAaCOg0BUa6-UOO",
        "focus": -1,
        "gap": 1
      },
      "startArrowhead": "arrow",
      "endArrowhead": "arrow"
    },
    {
      "id": "Q9uaBELx8T1OPCfdqbPUT",
      "type": "text",
      "x": 3881.0712800272404,
      "y": -1570.3693911795044,
      "width": 652,
      "height": 69,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 660159146,
      "version": 206,
      "versionNonce": 101253994,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Route only to vpn-seed-server svc in the Shoot namespace \n(Control plane specific)\n- Use again HTTP CONNECT because envoy acts as proxy for OpenVPN",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 64
    },
    {
      "type": "rectangle",
      "version": 474,
      "versionNonce": 1620459434,
      "isDeleted": false,
      "id": "wy--c9Ma5de7pQHWisBnj",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dashed",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 5620,
      "y": -260,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 1159.9999999999995,
      "height": 1520,
      "seed": 2008804406,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    },
    {
      "id": "tS9e58ZH-GWCad9pxu6iF",
      "type": "text",
      "x": -1320,
      "y": -1860,
      "width": 610,
      "height": 69,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1074242742,
      "version": 196,
      "versionNonce": 130614186,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "Connect to OpenVPN server via shoot internal domain and port 8132\n - No SNI involved, just envoy configuration for routing based on port\n - Does not go though apiserver-proxy pod (proxy protocol) ",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 64
    },
    {
      "id": "GFAjlTfKTiB_3bV3UaNh0",
      "type": "rectangle",
      "x": -2400,
      "y": -2160,
      "width": 820,
      "height": 739.9999999999999,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1058408490,
      "version": 56,
      "versionNonce": 977663286,
      "isDeleted": false,
      "boundElementIds": null
    },
    {
      "id": "0GLsCMW6gionJXeOOebbK",
      "type": "text",
      "x": -1540,
      "y": -2000,
      "width": 633,
      "height": 69,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1903119082,
      "version": 77,
      "versionNonce": 747061546,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "VPN tunnel is required for connection FROM API server TO shoot VPC \n- e.g kubectl logs, exec, prometheus scrape\n- tunnel is opened from shoot side",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 64
    },
    {
      "id": "g9SDqTo88w_lfM7KjdZRJ",
      "type": "text",
      "x": -1740,
      "y": -800,
      "width": 780,
      "height": 276,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 798357302,
      "version": 771,
      "versionNonce": 327016054,
      "isDeleted": false,
      "boundElementIds": [
        "RIDp6eTASpU9aL9ygE1TD"
      ],
      "text": "Connecting FROM Shoot TO  API server\n  \n1) Use shoot-domain directly via injected env variable KUBERNETES_SERVICE_HOST\n      - against port 443 in istio-ingressgateway envoy\n      - SNI configured for that port in istio-ingressgateway envoy\n  \n2) Use the apiserver-proxy via PROXY protocol \n       - against port 8443 in istio-ingressgateway\n       - For pods using the default/kubernetes ClusterIP svc\n       - apiserver-proxy needs to the server name (shoot domain) so that the\n         istio-ingressgateway envoy can route requests from different shoot clusters\n         to their respective kube-apiserver ",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 271
    },
    {
      "id": "vyQc2KesEY0tsdQD-Sv3X",
      "type": "arrow",
      "x": -1480,
      "y": -1020,
      "width": 2560,
      "height": 180,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 1365292138,
      "version": 178,
      "versionNonce": 1025849590,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          0,
          -180
        ],
        [
          2540,
          -160
        ],
        [
          2560,
          0
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": {
        "elementId": "KS0LXnsl1moAgCGP_Fclx",
        "focus": -0.2,
        "gap": 1
      },
      "endBinding": {
        "elementId": "sRR_uk6GRJsoTYCImJEYU",
        "focus": -0.13385826771653542,
        "gap": 1
      },
      "startArrowhead": "arrow",
      "endArrowhead": "arrow"
    },
    {
      "id": "NkX3t-sdlYceDeffdPB3H",
      "type": "line",
      "x": -1640,
      "y": -1160,
      "width": 100,
      "height": 20,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "round",
      "seed": 935867818,
      "version": 38,
      "versionNonce": 1552982954,
      "isDeleted": false,
      "boundElementIds": null,
      "points": [
        [
          0,
          0
        ],
        [
          -100,
          -20
        ]
      ],
      "lastCommittedPoint": null,
      "startBinding": null,
      "endBinding": null,
      "startArrowhead": null,
      "endArrowhead": null
    },
    {
      "id": "6vyClYfAuw3ecbmGzmopy",
      "type": "text",
      "x": 6980,
      "y": -1000,
      "width": 537,
      "height": 483,
      "angle": 0,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "dotted",
      "roughness": 1,
      "opacity": 100,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "seed": 1338997046,
      "version": 186,
      "versionNonce": 1185040950,
      "isDeleted": false,
      "boundElementIds": null,
      "text": "\n    apiVersion: apiserver.k8s.io/v1alpha1\n    kind: EgressSelectorConfiguration\n    egressSelections:\n    - name: cluster\n      connection:\n        # Envoy required to be HTTP CONNECT capable proxy\n        proxyProtocol: HTTPConnect   \n        transport:\n          tcp:\n            url: https://vpn-seed-server:9443\n            tlsConfig:\n              caBundle: /etc/srv/kubernetes/envoy/ca.crt\n              clientCert: /etc/srv/kubernetes/envoy/tls.crt\n              clientKey: /etc/srv/kubernetes/envoy/tls.key\n    - name: master/controlplane\n      connection:\n        proxyProtocol: Direct # no proxy\n    - name: etcd\n      connection:\n        proxyProtocol: Direct # no proxy",
      "fontSize": 20,
      "fontFamily": 2,
      "textAlign": "left",
      "verticalAlign": "top",
      "baseline": 478
    },
    {
      "type": "rectangle",
      "version": 407,
      "versionNonce": 1623260394,
      "isDeleted": false,
      "id": "RDJzTrRtNMLj_GIXuw3Wn",
      "fillStyle": "hachure",
      "strokeWidth": 1,
      "strokeStyle": "solid",
      "roughness": 1,
      "opacity": 100,
      "angle": 0,
      "x": 7000,
      "y": -980,
      "strokeColor": "#000000",
      "backgroundColor": "#ced4da",
      "width": 540.0000000000001,
      "height": 480,
      "seed": 1887068982,
      "groupIds": [],
      "strokeSharpness": "sharp",
      "boundElementIds": []
    }
  ],
  "appState": {
    "gridSize": 20,
    "viewBackgroundColor": "#ffffff"
  }
}